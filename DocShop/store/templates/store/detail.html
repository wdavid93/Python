<!-- detail.html -->

{% extends "base.html" %}

<!-- {% block title %}
Détail - My E-commerce Site
{% endblock %} -->

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            <h2>{{ product.name }}</h2>
            <h3>{{ product.price }} €</h3>
            {% if product.image %}
            <a href="{{ product.image.url }}" data-lightbox="product-image" data-title="{{ product.name }}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid zoom-image">
            </a>
            {% endif %}
        </div>
        <div class="col-md-6">
            <p>{{ product.description }}</p>
            <p>Stock: {{ product.stock }}</p>
            {% if user.is_authenticated %}
            <p><a href="{% url 'add-to-cart' product.slug %}" class="btn btn-primary">Ajouter au panier</a></p>
            {% else %}
            <p><a href="{% url 'login' %}" class="btn btn-secondary">Connectez-vous pour ajouter au panier</a></p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- Lightbox2 JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
<!-- Lightbox2 CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet">
<style>
    .zoom-image {
        transition: transform .2s;
    }
    .zoom-image:hover {
        transform: scale(1.1);
    }
</style>
{% endblock %}
